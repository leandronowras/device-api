# Task ID: 11
# Title: Feature: Persistence with non in-memory database
# Status: pending
# Dependencies: None
# Priority: medium
# Description: Use a real database to store devices; include migrations.
# Details:
Given the service is deployed
When the API restarts
Then devices remain persisted in the chosen database and schema migrations can be applied safely


# Test Strategy:


# Subtasks:
## 1101. Scenario: User can see data persisted across restarts [pending]
### Dependencies: None
### Description: Happy Path
### Details:
Given a device exists
When the service restarts
Then GET /v1/devices/{id} still returns 200 with the device


## 1102. Scenario: User benefits from indexes for brand/state queries [pending]
### Dependencies: None
### Description: Performance
### Details:
Given many devices exist
When GET /v1/devices?brand=Apple or ?state=in-use
Then queries execute efficiently leveraging indexes


